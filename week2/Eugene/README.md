# AUSG Architecture B Study 2nd week

## Intro
- 책 내용 중에서 처음 알았거나 기억하기에는 약간 버거운 내용들을 담은 cheatsheet용으로 만들었습니다.
- 챕터별이 아닌 서비스별로 나누어 내용을 정리할 예정입니다.  

지금까지 정리한 AWS 서비스들
`EC2(EBS)` `CloudWatch`

## EC2
**EC2**(Elastic Cloud Computing)는 인터넷에 연결된 가상 서버를 제공하는 AWS에서 가장 기본적인 서비스이다. 

EC2에서 생성한 가상 서버를 **인스턴스**라고 하며 어떤 부품을 사용하고 어떤 성능을 가지는지에 따라 선택할 수 있다. 
인스턴스 패밀리는 [여기](http://pyrasis.com/book/TheArtOfAmazonWebServices/Chapter04/01)를 참고하자. 프리티어에서는 마이크로 인스턴스(t로 시작함)를 무료로 사용할 수 있으며 일반적인 범용 컴퓨팅으로 사용되는 건 M1,M3로 시작한다.

인스턴스 유형이 다양한 것과 더불어 구매 옵션도 다양한데 과금 방식은 [여기](http://pyrasis.com/book/TheArtOfAmazonWebServices/Chapter04/02)를 참고하자. 주로 사용하는 것은 **On Demand**방식으로 과금 단위는 1시간이다. 동시에 하나의 물리 서버에 한 개의 EC2 인스턴스를 둘 것인지 혹은 여러 개의 인스턴스를 둘 것인지에 따라서도 과금 방식이 다르다. 

### EBS
**EBS**(Elastic Block Store)는 EC2 인스턴스에 장착하여 사용할 수 있는 가상 저장 장치이며 EC2 인스턴스에서 제공하는 기본 용량보다 더 사용해야 하거나, RAID 등의 고급 기능을 더할 때, 혹은 운영체제를 중단시키지 않고 용량을 자유롭게 늘리고 싶을 때 사용한다. 

EC2에 설치된 OS에서 그냥 일반적인 HDD나 SSD처럼 인식이 되며 원하는 크기 혹은 성능으로 맞출 수 있다.

EBS 볼륨을 생성하고 EC2 인스턴스에 부착하고 해당 인스턴스에 알맞는 파일 시스템으로 포맷을 해주어야 한다. 리눅스의 경우 Ex4 파일 시스템을 사용하므로 OS에 알맞게 포맷해주면 된다. 그리고 저장장치를 지정해 마운트 과정을 거친다.

그리고 스냇샵을 생성하여 다른 EBS 볼륨을 생성하거나 AMI를 생성할 수 있으며 다른 리전으로 복사할 수 있다.

일반적으로 인스턴스를 생성하면 항상 EBS를 Root 장치로 사용하게 되는데 일반 EC2 인스턴스로 Root 장치를 사용해도 된다. 

### Security Group
EC2 인스턴스에 적용할 수 있는 방화벽 설정을 말하며 포트, 접속 가능한 IP 대역, 들어오고 나가는 트래픽, 프로토콜의 형태 등등을 설정할 수 있다.

그리고 이런 사항들을 Rule로 관리하여 사용하기도 한다. 

자세한 건 [여기](http://pyrasis.com/book/TheArtOfAmazonWebServices/Chapter05)를 참고하자.

### Elastic IP
EC2 인스턴스는 실행 동안에만 그 공인 IP가 유효하며 중단되면 해당 IP 주소는 반납된다. 그러나 DNS 서버에서 도메인과 IP 주소를 연결하는 등의 IP 주소가 유지되어야 할 때 **Elastic IP**를 사용할 수 있다.

### Key Pair
EC2 인스턴스에 접속하기 위해 사용되는 암호화된 파일이며 이러한 키 쌍 접속 방식에서는 RSA 공개 키 알고리즘을 사용한다. 

### AMI
**AMI**(Amazon Machine Images)는 EC2 인스턴스를 생성하기 위한 기본 파일이다. 
AWS에서는 빈 EC2 인스턴스에 직접 OS를 설치하는 대신 하드웨어 가상화 방식으로 미리 OS가 설치된 이미지 파일을 설치해서 인스턴스를 사용하게 된다. 
단순히 OS 뿐만 아니라 다른 서비스 혹은 데이터베이스 등등도 함께 포함하여 이미지로 만들 수 있다. 

모든 설치와 설정이 완료된 AMI를 이용하여 Auto Scaling을 쉽게 가능하도록 한다. 그러므로 AMI는 Auto scaling 등으로 자동화를 쉽게 할 뿐만 아니라 다른 리전으로 EC2 인스턴스를 이동해야 할 때 사용될 수 있다.

## CloudWatch
**CloudWatch**는 AWS 리소스의 상태를 모니터링 하는 서비스이며 모니터링 뿐만 아니라 측정값을 기준으로 다양한 액션을 사용할 수 있다. 

사용하는 서비스에 이상이 있거나 사용량이 급증했을 때 Auto Scaling 혹은 Load Balancing을 구현할 수 있는 방법을 제시한다. 